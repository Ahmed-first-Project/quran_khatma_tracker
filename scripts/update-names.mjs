import mysql from "mysql2/promise";
import * as dotenv from "dotenv";

dotenv.config();

// ูุงุฆูุฉ ุงูุฃุณูุงุก ูู ููู PDF (60 ูุฌููุนุฉ ร 3 ุฃุดุฎุงุต = 180 ุดุฎุต)
const participantsNames = [
  // ุงููุฌููุนุฉ 1
  "ูุญููุฏ ุฃุจู ุชูู",
  "ุญุณูู ุงูุญูุฏ",
  "ูุญููุฏ ูููุณู",
  // ุงููุฌููุนุฉ 2
  "ูุงุณูู ููุงุถ",
  "ุฃุญูุฏ ุงูุจุงุดุง",
  "ุนุจุฏ ุงูุนุฒูุฒ ุงูุฎุฒุงุฑ",
  // ุงููุฌููุนุฉ 3
  "ุญุณูู ุงูุนููุฉ",
  "ููุฎูุช ุงููููู",
  "ูุญููุฏ ุงูุญุฑูุฑู",
  // ุงููุฌููุนุฉ 4
  "ุฃุญูุฏ ุงูุญูุตู",
  "ุฃูุณ ุงูุนูุฑ",
  "ุฃุญูุฏ ุงููุฌูู",
  // ุงููุฌููุนุฉ 5
  "ุนูุฑ ุทุงูุจ",
  "ูุญูุฏ ุฅุณูุงุนูู",
  "ุฃุจู ูุญููุฏ ูููุณู",
  // ุงููุฌููุนุฉ 6
  "ุนุฏูุงู ุงูุดุงูู",
  "ุฃุญูุฏ ุฃุจูุด",
  "ูุญู ุงูุฏูู ุทูุทุงูุฉ",
  // ุงููุฌููุนุฉ 7
  "ูุญููุฏ ุงูุญุงูุธ",
  "ุตููุจ ุงูุญูุงุฏ",
  "ููุฑ ุงูุฏูู ุงูุญุฑูุฑู",
  // ุงููุฌููุนุฉ 8
  "ูุงุฆู ุงูููุฏุงุฏ",
  "ุฒุงูุฑ ุงููุชุงุญ",
  "ูููุจ ุงูุนุฏูู",
  // ุงููุฌููุนุฉ 9
  "ุฎุงูุฏ ุงูุญุฑูุฑู",
  "ุฃุจู ุฒููุฑ ุงูููุจุฉ",
  "ูุญูุฏ ุฑุงูู ุจููุฑ",
  // ุงููุฌููุนุฉ 10
  "ูุญูุฏ ุญุงุฌ ุนุจุฏ ุงููู",
  "ูููุฏ ุทูุทุงูุฉ",
  "ุนุฏูุงู ุงูุดุงูู",
  // ุงููุฌููุนุฉ 11
  "ูุญูุฏ ุฃูุฑูุฉ ูู",
  "ูุญูุฏ ุงูุฑูุงุนู",
  "ููุง ุฃุญูุฏ",
  // ุงููุฌููุนุฉ 12
  "ูุญูุฏ ุงูุณูุณู",
  "ูุญูู ุณูููุงู",
  "ุณุนูุฏ ุงูุฃุฑุถ",
  // ุงููุฌููุนุฉ 13
  "ููุง ุนุฒ ุงูุฏูู",
  "ุฃูุณ ุงูุนุฏูู",
  "ูุญูุฏ ุญูุฏู",
  // ุงููุฌููุนุฉ 14
  "ูุฑูู ุณุงุฑุฉ",
  "ูุดุงู ุงููุบุฑุจู",
  "ุนูู ุฅุจุฑุงููู ุทูุทุงูุฉ",
  // ุงููุฌููุนุฉ 15
  "ูููุฏ ุซูุงุจุชุฉ",
  "ุฃุญูุฏ ุงูููุณู",
  "ุนุจุฏ ุงููุฑูู ุงูุทุฑุงุจูุดู",
  // ุงููุฌููุนุฉ 16
  "ูุตุทูู ุงูุฌุณุฑู",
  "ุญูุฒุฉ ุนุจุฏ ุงููู ุญุงูุธ",
  "ุจุณุงู ุงูุฃุญูุฏ",
  // ุงููุฌููุนุฉ 17
  "ูุญูุฏ ุงูุทุฑุงุจูุดู",
  "ุฃุจู ุฃุญูุฏ ุญุงูุธ",
  "ุนุจุฏ ุงูุดูุฑู",
  // ุงููุฌููุนุฉ 18
  "ุฑุงุบุจ ุฃุจู ุดุนุจุงู",
  "ุจูุฑ ุงูุฃุญูุฏ",
  "ุญุณูู ุงูุญุฑูุฑู",
  // ุงููุฌููุนุฉ 19
  "ุดุนุจุงู ุฑุงุบุจ",
  "ุฃููุฑ ุงูุญุฑูุฑู",
  "ุนุจุฏ ุงูุฑุญูู ุฌูุนุฉ",
  // ุงููุฌููุนุฉ 20
  "ุนุงูุฑ ุทูุทุงูุฉ",
  "ุนูุงุก ุงูุญุฑูุฑู",
  "ูุตุทูู ูุญููุฏ",
  // ุงููุฌููุนุฉ 21
  "ุฎููู ุซูุงุจุชุฉ",
  "ุฃุณุงูุฉ ุญุงูุธ",
  "ุฃุญูุฏ ูุงูู ุทูุทุงูุฉ",
  // ุงููุฌููุนุฉ 22
  "ุฃุจู ูุฑู ุงูุญุฑูุฑู",
  "ููุชุตุฑ ุงูุฑูุงุนู",
  "ูุตุทูู ูุทุงู",
  // ุงููุฌููุนุฉ 23
  "ุฃุญูุฏ ุฅุจุฑุงููู ุทูุทุงูุฉ",
  "ููุณู ุงูููุณู",
  "ุญุณู ุงูุจุฑูู",
  // ุงููุฌููุนุฉ 24
  "ูููุณ ุงูุนุงุดู",
  "ุญูุฒุฉ ุฒุฑุนูู",
  "ูุญูุฏ ุฃูุงูุฉ",
  // ุงููุฌููุนุฉ 25
  "ุนุจุฏ ุงููุฑูู ุงูุตุบูุฑ",
  "ุดูุฎ ุนุจุฏ ุงููู ุญุงูุธ",
  "ุฃููุฑ ุนูุฑ",
  // ุงููุฌููุนุฉ 26
  "ุงููุง ุณูุณู",
  "ุนูู ูููุณ",
  "ุนุจุฏ ุงูุฑุญูู ุทุฑุงุจูุดู",
  // ุงููุฌููุนุฉ 27
  "ุฃุญูุฏ ูููุณ ุทูุทุงูุฉ",
  "ุนุจุฏ ุงูููุนู ูุฑููุฒ",
  "ุฃุจู ุนุจูุฏุฉ ุงูุตูุงุฏ",
  // ุงููุฌููุนุฉ 28
  "ูุญูุฏ ุฃุญูุฏ ุทูุทุงูุฉ",
  "ูุงูุฑ ุงูุญุณู",
  "ุฃุญูุฏ ููุณู",
  // ุงููุฌููุนุฉ 29
  "ูุฑูู ุณุงุฑุฉ",
  "ูุดุงู ุงููุบุฑุจู",
  "ุนูู ุฅุจุฑุงููู ุทูุทุงูุฉ",
  // ุงููุฌููุนุฉ 30
  "ุฃูุณ ุงูุนุฏูู",
  "ูุญูุฏ ุญูุฏู",
  "ุนูุฑ ููุฑ ุงูุญุฑูุฑู",
  // ุงููุฌููุนุฉ 31-40
  "ุนุซูุงู ุฃุธูุฑ",
  "ูููุฏ ุซูุงุจุชุฉ",
  "ุญุณูู ุฏุฑููุด",
  "ูุตุทูู ุงูุฌุณุฑู",
  "ุจุณุงู ุงูุฃุญูุฏ",
  "ูุญูุฏ ุงูุทุฑุงุจูุดู",
  "ุนุจุฏ ุงูุดูุฑู",
  "ุฑุงุบุจ ุฃุจู ุดุนุจุงู",
  "ุจูุงุก ุงูุฏูู",
  "ุจูุฑ ุงูุฃุญูุฏ",
  // ุงููุฌููุนุฉ 41-50
  "ุดุนุจุงู ุฑุงุบุจ",
  "ุนุจุฏ ุงูุฑุญูู ุฌูุนุฉ",
  "ุนุงูุฑ ุทูุทุงูุฉ",
  "ูุตุทูู ูุญููุฏ",
  "ุฎููู ุซูุงุจุชุฉ",
  "ุฃุญูุฏ ูุงูู ุทูุทุงูุฉ",
  "ุฃุจู ูุฑู ุงูุญุฑูุฑู",
  "ูุตุทูู ูุทุงู",
  "ุฃุญูุฏ ุฅุจุฑุงููู ุทูุทุงูุฉ",
  "ุญุณู ุงูุจุฑูู",
  // ุงููุฌููุนุฉ 51-60
  "ูููุณ ุงูุนุงุดู",
  "ูุญูุฏ ุฃูุงูุฉ",
  "ูุนุชุตู ุงูุฌุณุฑู",
  "ุนุจุฏ ุงููุฑูู ุงูุตุบูุฑ",
  "ุฃููุฑ ุนูุฑ",
  "ุงููุง ุณูุณู",
  "ุนุจุฏ ุงูุฑุญูู ุทุฑุงุจูุดู",
  "ุฃุญูุฏ ูููุณ ุทูุทุงูุฉ",
  "ุฃุจู ุนุจูุฏุฉ ุงูุตูุงุฏ",
  "ูุญูุฏ ุฃุญูุฏ ุทูุทุงูุฉ",
];

async function updateParticipantsNames() {
  const connection = await mysql.createConnection(process.env.DATABASE_URL);

  try {
    console.log("๐ ุฌุงุฑู ุชุญุฏูุซ ุฃุณูุงุก ุงููุดุงุฑููู...");

    // ุงูุญุตูู ุนูู ุฌููุน ุงูุฃุดุฎุงุต ุงูุญุงูููู
    const [existingPersons] = await connection.query(
      "SELECT id, name FROM persons ORDER BY id"
    );

    console.log(`๐ ุนุฏุฏ ุงูุฃุดุฎุงุต ุงูุญุงูููู: ${existingPersons.length}`);
    console.log(`๐ ุนุฏุฏ ุงูุฃุณูุงุก ุงูุฌุฏูุฏุฉ: ${participantsNames.length}`);

    // ุชุญุฏูุซ ุงูุฃุณูุงุก
    for (let i = 0; i < Math.min(existingPersons.length, participantsNames.length); i++) {
      const person = existingPersons[i];
      const newName = participantsNames[i];

      await connection.query("UPDATE persons SET name = ? WHERE id = ?", [newName, person.id]);

      console.log(`โ ุชู ุชุญุฏูุซ: ${person.name} โ ${newName}`);
    }

    // ุฅุถุงูุฉ ุฃุณูุงุก ุฌุฏูุฏุฉ ุฅุฐุง ูุงู ุนุฏุฏูุง ุฃูุจุฑ
    if (participantsNames.length > existingPersons.length) {
      for (let i = existingPersons.length; i < participantsNames.length; i++) {
        await connection.query("INSERT INTO persons (name) VALUES (?)", [participantsNames[i]]);
        console.log(`โ ุชู ุฅุถุงูุฉ: ${participantsNames[i]}`);
      }
    }

    console.log("โ ุชู ุชุญุฏูุซ ุฃุณูุงุก ุงููุดุงุฑููู ุจูุฌุงุญ!");
  } catch (error) {
    console.error("โ ุฎุทุฃ ูู ุชุญุฏูุซ ุงูุฃุณูุงุก:", error);
  } finally {
    await connection.end();
  }
}

updateParticipantsNames();
